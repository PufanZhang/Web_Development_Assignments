body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden; /* 防止出现滚动条，破坏美感 */
}

#game-container {
    position: relative;
    width: 100%;
    height: 100%;
    background-color: #2d2d2d; /* 为地图之外的区域设置一个底色 */
}

/* --- 地图层样式 --- */
#map-view {
    position: relative; /* 成为内部所有绝对定位元素的基准 */
    width: 1600px; /* 地图的宽度 */
    height: 900px; /* 地图的高度 */
    /* 让地图在容器中居中 */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

#player {
    position: absolute;
    width: 50px;  /* 小人的宽度 */
    height: 50px; /* 小人的高度 */
    background-image: url('../assets/images/player.png');
    background-size: contain;
    z-index: 10; /* 赋予主角更高的视觉层级 */
    /* 小人的初始位置将由JS设定 */
}

.interactable-object {
    position: absolute;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    /* 为消失效果增加柔和的过渡 */
    transition: opacity 0.5s ease;
}

/* 用于隐藏已交互物品的样式 */
.interactable-object.hidden {
    opacity: 0;
    pointer-events: none; /* 隐藏后不再响应任何鼠标事件 */
}

/* --- 对话层样式 --- */
#dialogue-view {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 100; /* 确保它在最顶层 */
    display: none; /* 默认完全隐藏，等待召唤 */
}

/* 当对话激活时，我们为对话层添加这个类 */
#dialogue-view.active {
    display: block;
}

/* 对话框使用Flexbox布局，以便更好地控制内部结构 */
#dialogue-box {
    position: absolute;
    bottom: 5%;
    left: 10%;
    right: 10%;
    min-height: 25%; /* 使用min-height保证最小高度 */
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
    border-radius: 15px;
    padding: 20px;
    z-index: 20;
    cursor: pointer;
    display: flex; /* 启用Flexbox */
    flex-direction: column; /* 垂直排列：立绘在上，文字在下 */
}

#character-container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 80%; /* 角色活动区域的高度 */
    z-index: 10;
    display: flex; /* 使用Flexbox来排列角色 */
    justify-content: space-around;
    align-items: flex-end; /* 底部对齐 */
    gap: 2%; /* 角色之间的间距 */
    padding: 0 5%; /* 保证角色不会紧贴屏幕边缘 */
}

/* 容器内所有角色立绘的通用样式 */
#character-container img {
    height: 100%; /* 高度占满父容器 */
    object-fit: contain;
    /* 所有的立绘都将拥有柔和的过渡效果，无论是出现、消失还是光影变化 */
    transition: all 0.4s ease-in-out;
}

.dimmed {
    filter: brightness(0.5);
}

#dialogue-content {
}

/* --- （调试用）墙体样式 --- */
.wall {
    position: absolute;
    background-color: rgba(255, 0, 0, 0.3); /* 半透明红色，方便我们看清范围 */
    z-index: 5; /* 层级比玩家低一点，免得挡住我们的主角 */
}

/* --- 智能交互提示样式 --- */
.interaction-prompt {
    position: absolute;
    display: none; /* 默认隐藏，等待JS的召唤 */
    background: white;
    padding: 2px 8px;
    border-radius: 5px;
    color: black;
    font-weight: bold;
    z-index: 15; /* 比玩家高一点，确保不会被挡住 */
    transform: translateX(-50%); /* 水平居中对齐的小技巧 */
    transition: top 0.1s linear, left 0.1s linear; /* 让位置变化更丝滑 */
}